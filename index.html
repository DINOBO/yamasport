<!doctype html>
<html lang="ru">
<head>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Yama Sport ‚Äî –ó–∞–ø–∏—Å—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</title>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-bg: #000;
      --color-text: #fff;
      --color-muted: #aaa;
      --color-accent: #fff;
      --color-button-bg: rgba(255,255,255,0.07);
      --divider-color: #333;
      --sport-label-color: #000;
      --training-title-color: #fff;
    }

    html, body {
      margin:0;
      padding:0;
      width:100%;
      height:100%;
      font-family:'Inter', sans-serif;
      background: var(--color-bg);
      display:flex;
      justify-content:center;
      align-items:flex-start;
      overflow:hidden;
      padding-top:32px;
      color: var(--color-text);
    }

    .app {
      width:420px;
      max-width:95%;
      background: linear-gradient(to bottom, rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.9) 100%), url('bg.jpg') center/cover no-repeat;
      border-radius:20px;
      padding:24px;
      box-sizing:border-box;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      backdrop-filter: blur(6px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.6);
    }

    header h1 {
      margin:0;
      font-size:38px;
      color: var(--color-accent);
      font-weight:800;
      text-align:center;
      font-family: 'Oswald', sans-serif;
      letter-spacing:2px;
      text-transform: uppercase;
      text-shadow: none;
    }

    header .muted {
      text-align:center;
      margin-top:16px;
      color: var(--sport-label-color);
      font-size:22px;
      font-weight:500;
    }

    .section { width:100%; margin-top:24px; }

    .btn {
      width:100%;
      padding:18px;
      font-size:22px;
      font-weight:700;
      border-radius:16px;
      border:none;
      background: var(--color-button-bg);
      color: var(--color-text);
      cursor:pointer;
      backdrop-filter: blur(6px);
      margin-top:12px;
      transition: background 0.25s, transform 0.2s;
    }

    .btn:hover {
      background: rgba(255,255,255,0.12);
      transform: translateY(-2px);
    }

    .btn.small { width:auto; padding:10px 16px; font-size:16px; }

    .sport-buttons button {
      background-size:cover;
      background-position:center;
      background-repeat:no-repeat;
      height:130px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:32px;
      font-weight:800;
      color:#fff;
      border-radius:18px;
      text-shadow: 0 0 10px rgba(0,0,0,0.8);
      filter:none;
      transition:none;
      margin-top:16px;
    }
    .sport-buttons button[data-sport="kuresh"] { background-image: url('kuresh.jpg'); }
    .sport-buttons button[data-sport="volley"] { background-image: url('volleyball.jpg'); }

    .date-buttons button, .date-buttons input[type="date"] {
      background: rgba(0,0,0,0.6);
      color:#fff;
      border-radius:14px;
      font-size:18px;
      padding:14px;
      border:none;
      width:100%;
      margin-top:8px;
      cursor:pointer;
    }

    .divider { width:100%; height:2px; background: var(--divider-color); margin:20px 0; border-radius:1px; }
    .footer { width:100%; text-align:center; color: var(--color-muted); font-size:14px; margin-top:12px; }

    .training-item { padding:18px; border-radius:16px; background:rgba(0,0,0,0.5); margin-top:16px; box-shadow:0 4px 12px rgba(0,0,0,0.5); }
    .training-item .title { font-size:22px; font-weight:700; margin-bottom:8px; color: var(--training-title-color); }
    .training-item .muted { font-size:16px; color: var(--color-muted); margin-bottom:6px; }

    label { display:block; margin-top:14px; font-size:18px; font-weight:500; }
    input { width: calc(100% - 28px); padding:14px; border-radius:12px; border:none; margin-top:6px; font-size:18px; background: rgba(0,0,0,0.6); color:#fff; box-sizing:border-box; }

  </style>
</head>
<body>
<div class="app" id="app">

  <!-- VIEW 1 -->
  <div id="sportView">
    <header>
      <h1>Yama Sport</h1>
      <div class="divider"></div>
      <h3>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞</h3>
    </header>

    <div class="section sport-buttons">
      <button class="btn" data-sport="kuresh">–ö—É—Ä–µ—à</button>
      <button class="btn" data-sport="volley">–í–æ–ª–µ–π–±–æ–ª</button>
    </div>

    <div class="divider"></div>
    <div class="footer">by Aituk</div>
  </div>

  <!-- VIEW 2 -->
  <div id="dateView" style="display:none">
    <button id="backToSport" class="small btn">‚Üê –ù–∞–∑–∞–¥</button>
    <div class="divider"></div>
    <h2>–í—ã–±–æ—Ä –¥–∞—Ç—ã</h2>
    <div class="section date-buttons">
      <button id="todayBtn">–°–µ–≥–æ–¥–Ω—è</button>
      <button id="chooseDateBtn">–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É üìÖ</button>
      <input type="date" id="datePicker" style="display:none;" />
    </div>
    <div class="divider"></div>
    <div class="footer">Yama Sport</div>
  </div>

  <!-- VIEW 3 -->
  <div id="trainingView" style="display:none">
    <button id="backToDate" class="small btn">‚Üê –ù–∞–∑–∞–¥</button>
    <div class="divider"></div>
    <h2>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
    <div id="trainingList"></div>
    <div class="divider"></div>
    <div class="footer">Yama Sport</div>
  </div>

  <!-- VIEW 4 -->
  <div id="bookingView" style="display:none">
    <button id="backToTrainings" class="small btn">‚Üê –ù–∞–∑–∞–¥</button>
    <div class="divider"></div>
    <h2 id="trainingTitle">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

    <label>–§–ò–û</label>
    <input id="fio" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω" />

    <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
    <input id="phone" placeholder="+7 900 000 00 00" />

    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫</label>
    <input id="people" type="number" min="1" value="1" />

    <button id="confirmBtn" class="btn" style="margin-top:20px">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
    <div class="divider"></div>
    <div class="footer">Yama Sport</div>
  </div>

</div>

<script>
  const tg = window.Telegram.WebApp;
  tg.expand();

  const sportView = document.getElementById('sportView');
  const dateView = document.getElementById('dateView');
  const trainingView = document.getElementById('trainingView');
  const bookingView = document.getElementById('bookingView');
  const trainingList = document.getElementById('trainingList');
  const trainingTitle = document.getElementById('trainingTitle');
  const datePicker = document.getElementById('datePicker');

  let selectedSport = null;
  let selectedDate = null;
  let selectedTraining = null;

  function show(v){ [sportView,dateView,trainingView,bookingView].forEach(x=>x.style.display='none'); v.style.display='block'; }

  document.querySelectorAll('[data-sport]').forEach(btn=>{ btn.onclick=()=>{ selectedSport=btn.dataset.sport; show(dateView); }; });
  document.getElementById('backToSport').onclick=()=>show(sportView);
  document.getElementById('backToDate').onclick=()=>show(dateView);
  document.getElementById('backToTrainings').onclick=()=>show(trainingView);

  document.getElementById('todayBtn').onclick=()=>{ selectedDate=new Date().toISOString().split("T")[0]; loadTrainings(); };
  document.getElementById('chooseDateBtn').onclick=()=>{ datePicker.focus(); };
  datePicker.onchange=()=>{ selectedDate=datePicker.value; loadTrainings(); };

  async function loadTrainings(){
    trainingList.innerHTML="<div class='muted'>–ó–∞–≥—Ä—É–∑–∫–∞...</div>";
    trainingList.innerHTML=`
      <div class='training-item'>
        <div class='title'>–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞–∑–º–∏–Ω–∫–∞</div>
        <div class='muted'>–í—Ä–µ–º—è: 10:00</div>
        <div class='muted'>–¢—Ä–µ–Ω–µ—Ä: –ê–π—Ç—É–≥–∞–Ω</div>
        <button class='btn small' data-id='1' data-name='–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞–∑–º–∏–Ω–∫–∞'>–í—ã–±—Ä–∞—Ç—å</button>
      </div>
      <div class='training-item'>
        <div class='title'>–û—Å–Ω–æ–≤–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>
        <div class='muted'>–í—Ä–µ–º—è: 15:00</div>
        <div class='muted'>–¢—Ä–µ–Ω–µ—Ä: –†—É—Å–ª–∞–Ω</div>
        <button class='btn small' data-id='2' data-name='–û—Å–Ω–æ–≤–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞'>–í—ã–±—Ä–∞—Ç—å</button>
      </div>
      <div class='training-item'>
        <div class='title'>–í–µ—á–µ—Ä–Ω—è—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>
        <div class='muted'>–í—Ä–µ–º—è: 19:00</div>
        <div class='muted'>–¢—Ä–µ–Ω–µ—Ä: –ê—Ä—Ç—É—Ä</div>
        <button class='btn small' data-id='3' data-name='–í–µ—á–µ—Ä–Ω—è—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞'>–í—ã–±—Ä–∞—Ç—å</button>
      </div>
    `;
    // –°–¥–µ–ª–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –±–µ–ª—ã–º–∏
    document.querySelectorAll('.training-item .title').forEach(t=>t.style.color='#fff');
    show(trainingView);
  }

  trainingList.onclick=e=>{ const btn=e.target.closest("button[data-id]"); if(!btn) return; selectedTraining={id:btn.dataset.id,name:btn.dataset.name}; trainingTitle.textContent=selectedTraining.name; show(bookingView); };
  document.getElementById('confirmBtn').onclick=()=>{ alert('–ó–∞–ø–∏—Å—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è...'); show(sportView); };
</script>
</body>
</html>